!function(){"use strict";angular.module("mmAngularChemistry",["ngSanitize"])}(),function(){"use strict";function a(a){function b(a){angular.forEach(a,function(a,b){this[b]=a},d)}var c={H:{symbol:"H",name:"Hydrogen",weight:1.008},He:{symbol:"He",name:"Helium",weight:4.002602},Li:{symbol:"Li",name:"Lithium",weight:6.94},Be:{symbol:"Be",name:"Beryllium",weight:9.0121832},B:{symbol:"B",name:"Boron",weight:10.81},C:{symbol:"C",name:"Carbon",weight:12.011},N:{symbol:"N",name:"Nitrogen",weight:14.007},O:{symbol:"O",name:"Oxygen",weight:15.999},F:{symbol:"F",name:"Fluorine",weight:18.998403164},Ne:{symbol:"Ne",name:"Neon",weight:20.1798},Na:{symbol:"Na",name:"Sodium",weight:22.98976928},Mg:{symbol:"Mg",name:"Magnesium",weight:24.305},Al:{symbol:"Al",name:"Aluminium",weight:26.9815386},Si:{symbol:"Si",name:"Silicon",weight:28.085},P:{symbol:"P",name:"Phosphorus",weight:30.973761999},S:{symbol:"S",name:"Sulfur",weight:32.06},Cl:{symbol:"Cl",name:"Chlorine",weight:35.45},Ar:{symbol:"Ar",name:"Argon",weight:39.948},K:{symbol:"K",name:"Potassium",weight:39.0983},Ca:{symbol:"Ca",name:"Calcium",weight:40.078},Sc:{symbol:"Sc",name:"Scandium",weight:44.955909},Ti:{symbol:"Ti",name:"Titanium",weight:47.867},V:{symbol:"V",name:"Vanadium",weight:50.9415},Cr:{symbol:"Cr",name:"Chromium",weight:51.9962},Mn:{symbol:"Mn",name:"Manganese",weight:54.938044},Fe:{symbol:"Fe",name:"Iron",weight:55.845},Co:{symbol:"Co",name:"Cobalt",weight:58.933194},Ni:{symbol:"Ni",name:"Nickel",weight:58.6934},Cu:{symbol:"Cu",name:"Copper",weight:63.546},Zn:{symbol:"Zn",name:"Zinc",weight:65.38},Ga:{symbol:"Ga",name:"Gallium",weight:69.723},Ge:{symbol:"Ge",name:"Germanium",weight:72.631},As:{symbol:"As",name:"Arsenic",weight:74.921596},Se:{symbol:"Se",name:"Selenium",weight:78.972},Br:{symbol:"Br",name:"Bromine",weight:79.904},Kr:{symbol:"Kr",name:"Krypton",weight:83.798},Rb:{symbol:"Rb",name:"Rubidium",weight:85.4678},Sr:{symbol:"Sr",name:"Strontium",weight:87.62},Y:{symbol:"Y",name:"Yttrium",weight:88.90584},Zr:{symbol:"Zr",name:"Zirconium",weight:91.224},Nb:{symbol:"Nb",name:"Niobium",weight:92.90637},Mo:{symbol:"Mo",name:"Molybdenum",weight:95.95},Tc:{symbol:"Tc",name:"Technetium",weight:98},Ru:{symbol:"Ru",name:"Ruthenium",weight:101.07},Rh:{symbol:"Rh",name:"Rhodium",weight:102.9055},Pd:{symbol:"Pd",name:"Palladium",weight:106.42},Ag:{symbol:"Ag",name:"Silver",weight:107.8682},Cd:{symbol:"Cd",name:"Cadmium",weight:112.414},In:{symbol:"In",name:"Indium",weight:114.818},Sn:{symbol:"Sn",name:"Tin",weight:118.711},Sb:{symbol:"Sb",name:"Antimony",weight:121.76},Te:{symbol:"Te",name:"Tellurium",weight:127.6},I:{symbol:"I",name:"Iodine",weight:126.90447},Xe:{symbol:"Xe",name:"Xenon",weight:131.294},Cs:{symbol:"Cs",name:"Caesium",weight:132.90545197},Ba:{symbol:"Ba",name:"Barium",weight:137.328},La:{symbol:"La",name:"Lanthanum",weight:138.90548},Ce:{symbol:"Ce",name:"Cerium",weight:140.116},Pr:{symbol:"Pr",name:"Praseodymium",weight:140.90766},Nd:{symbol:"Nd",name:"Neodymium",weight:144.242},Pm:{symbol:"Pm",name:"Promethium",weight:145},Sm:{symbol:"Sm",name:"Samarium",weight:150.36},Eu:{symbol:"Eu",name:"Europium",weight:151.964},Gd:{symbol:"Gd",name:"Gadolinium",weight:157.25},Tb:{symbol:"Tb",name:"Terbium",weight:158.92535},Dy:{symbol:"Dy",name:"Dysprosium",weight:162.5},Ho:{symbol:"Ho",name:"Holmium",weight:164.93033},Er:{symbol:"Er",name:"Erbium",weight:167.259},Tm:{symbol:"Tm",name:"Thulium",weight:168.93422},Yb:{symbol:"Yb",name:"Ytterbium",weight:173.046},Lu:{symbol:"Lu",name:"Lutetium",weight:174.9668},Hf:{symbol:"Hf",name:"Hafnium",weight:178.49},Ta:{symbol:"Ta",name:"Tantalum",weight:180.94788},W:{symbol:"W",name:"Tungsten",weight:183.84},Re:{symbol:"Re",name:"Rhenium",weight:186.207},Os:{symbol:"Os",name:"Osmium",weight:190.23},Ir:{symbol:"Ir",name:"Iridium",weight:192.217},Pt:{symbol:"Pt",name:"Platinum",weight:195.085},Au:{symbol:"Au",name:"Gold",weight:196.966561},Hg:{symbol:"Hg",name:"Mercury",weight:200.592},Tl:{symbol:"Tl",name:"Thallium",weight:204.38},Pb:{symbol:"Pb",name:"Lead",weight:207.2},Bi:{symbol:"Bi",name:"Bismuth",weight:208.9804},Po:{symbol:"Po",name:"Polonium",weight:209},At:{symbol:"At",name:"Astatine",weight:210},Rn:{symbol:"Rn",name:"Radon",weight:222},Fr:{symbol:"Fr",name:"Francium",weight:223},Ra:{symbol:"Ra",name:"Radium",weight:226},Ac:{symbol:"Ac",name:"Actinium",weight:227},Th:{symbol:"Th",name:"Thorium",weight:232.0377},Pa:{symbol:"Pa",name:"Protactinium",weight:231.03588},U:{symbol:"U",name:"Uranium",weight:238.02891},Np:{symbol:"Np",name:"Neptunium",weight:237},Pu:{symbol:"Pu",name:"Plutonium",weight:244},Am:{symbol:"Am",name:"Americium",weight:243},Cm:{symbol:"Cm",name:"Curium",weight:247},Bk:{symbol:"Bk",name:"Berkelium",weight:247},Cf:{symbol:"Cf",name:"Californium",weight:251},Es:{symbol:"Es",name:"Einsteinium",weight:252},Fm:{symbol:"Fm",name:"Fermium",weight:257},Md:{symbol:"Md",name:"Mendelevium",weight:258},No:{symbol:"No",name:"Nobelium",weight:259},Lr:{symbol:"Lr",name:"Lawrencium",weight:266},Rf:{symbol:"Rf",name:"Rutherfordium",weight:267},Db:{symbol:"Db",name:"Dubnium",weight:268},Sg:{symbol:"Sg",name:"Seaborgium",weight:269},Bh:{symbol:"Bh",name:"Bohrium",weight:270},Hs:{symbol:"Hs",name:"Hassium",weight:269},Mt:{symbol:"Mt",name:"Meitnerium",weight:278},Ds:{symbol:"Ds",name:"Darmstadtium",weight:281},Rg:{symbol:"Rg",name:"Roentgenium",weight:282},Cn:{symbol:"Cn",name:"Copernicium",weight:285},Uut:{symbol:"Uut",name:"Ununtrium",weight:286},Fl:{symbol:"Fl",name:"Flerovium",weight:289},Uup:{symbol:"Uup",name:"Ununpentium",weight:289},Lv:{symbol:"Lv",name:"Livermorium",weight:293},Uus:{symbol:"Uus",name:"Ununseptium",weight:294},Uuo:{symbol:"Uuo",name:"Ununoctium",weight:294}},d={};return b(c),d.filter=function(a,b){var d={},e=["weight","density","meltingPoint","boilingPoint"],f=["symbol","name","desc"],g={};return e.forEach(function(a){g[a]=function(b,c){return null===b[a]?!1:"undefined"!=typeof c.$gt&&"undefined"!=typeof c.$lt?b[a]>c.$gt&&b[a]<c.$lt:"undefined"!=typeof c.$gt?b[a]>c.$gt:"undefined"!=typeof c.$lt?b[a]<c.$lt:void 0}}),f.forEach(function(a){g[a]=function(b,c){return"undefined"!=typeof c.match?!!b[a].match(c.match):void 0}}),a=1===arguments.length?a:g[a],angular.forEach(c,function(c,d){a(c,b)===!0&&(this[d]=c)},d),d},d.extended=function(d){a.get(d).then(function(a){c=a.data,b(c)},function(a){})},d.calcWeight=function(a){var b,d,e,f,g=a.match(/\d+|\_\(.*?\)|\^\(.*?\)|\^\d*[\-\+]|[A-Za-z][a-z]*/g),h={unknown:[]},i=0;return g.forEach(function(a){d=c[a],"undefined"!=typeof d?(e=d.weight,i+=1*e):isFinite(a)?("undefined"==typeof e&&h.unknown.push(f),i-=e,i+=e*a):"_("===a.substr(0,2)?(b=a.substr(2,a.length-3),"undefined"==typeof e&&h.unknown.push(f),isFinite(b)||h.unknown.push(b),i-=e,i+=e*b):"_^"!==a.substr(0,2)&&"^"!==a.substr(0,1)&&h.unknown.push(a),f=d}),{result:i,unknown:h.unknown}},d}angular.module("mmAngularChemistry").factory("ChemElements",a),a.$inject=["$http"]}(),function(){"use strict";function a(a){return{restrict:"AE",template:"<span ng-bind-html='parsedFormula'></span>",scope:{chemFormula:"@",chemAsIs:"@",chemSub:"@",chemSup:"@"},link:function(b,c,d){function e(){"true"===b.chemAsIs?b.parsedFormula=b.chemFormula:b.parsedFormula=a.parseFormula(b.chemFormula,{sub:b.chemSub,sup:b.chemSup})}b.$watchGroup(["chemFormula","chemAsIs","chemSub","chemSup"],e)}}}angular.module("mmAngularChemistry").directive("chemEntity",a),a.$inject=["ChemUtils"]}(),function(){"use strict";function a(){function a(a,b,c){function d(){for(var a=0;p>a;a+=1)if("0"!==o.charAt(a)){o=o.substr(a);break}}function e(a,c){return k=parseFloat(a+"."+c),n?"number"==typeof b?"-"+k.toFixed(b):"-"+k:"number"==typeof b?""+k.toFixed(b):""+k}function f(){for(l=1;"0"===o.charAt(l+m);)l+=1;return h=o.charAt(l+m),i=o.substr(l+m+1),l*=-1,e(h,i)}function g(){return 0>m?(h=o.charAt(0),i=o.substr(1),l=o.length-1,e(h,i)):(h=o.charAt(0),i=o.replace(".","").substr(1),l=m-1,k=parseFloat(h+"."+i),e(h,i))}var h,i,j,k,l,m,n,o="string"==typeof a?a:a+"",p=o.length;if(o.match(/^[\-0\.]+$/)||!isFinite(o)||0===o.length)return o;if("-"===o.charAt(0)&&(n=!0,o=o.substr(1)),2===arguments.length&&(c="string"==typeof b?b:c),b>10&&(b=10),d(),m=o.indexOf("."),1===m){if(o.charAt(0)>0)return e(o.charAt(0),o.substr(2));j=f()}else if(0===m)j=f();else{if(1===o.length)return e(o);j=g()}return"string"==typeof c?c.match(/^cross$/i)?j=j+" &Cross; 10<sup>"+l+"</sup>":c.match(/^dot$/i)&&(j=j+" &centerdot; 10<sup>"+l+"</sup>"):j=j+" &centerdot; 10<sup>"+l+"</sup>",j}return a}angular.module("mmAngularChemistry").filter("scientific",a)}(),function(){"use strict";function a(){function a(a){return a+273.15}function b(a){return a-273.15}function c(a){return 5*(a-32)/9}function d(a){return 9*a/5+32}function e(a){return d(b(a))}function f(b){return a(c(b))}function g(g,h,i){var j,k="number"==typeof g?g:+g,l=" &deg;";return isFinite(k)&&""!==g?(i="number"==typeof h?h:i,i="undefined"==typeof i?1:i,i>10&&(i=10),j="C-to-K"===h?a(k).toFixed(i)+" K":"K-to-C"===h?b(k).toFixed(i)+l+"C":"F-to-C"===h?c(k).toFixed(i)+l+"C":"C-to-F"===h?d(k).toFixed(i)+l+"F":"K-to-F"===h?e(k).toFixed(i)+l+"F":"F-to-K"===h?f(k).toFixed(i)+" K":"C"===h?k.toFixed(i)+l+"C":"F"===h?k.toFixed(i)+l+"F":k.toFixed(i)+" K"):g}return g}angular.module("mmAngularChemistry").filter("temp",a)}(),function(){"use strict";function a(a){return{restrict:"AE",template:"<span ng-repeat='subst in chemSubst'><chem-entity chem-formula='{{subst}}'></chem-entity><span ng-if='!$last'> &plus; </span></span><span ng-bind-html='arrow'></span><span ng-repeat='prod in chemProd'><chem-entity chem-formula='{{prod}}'></chem-entity><span ng-if='!$last'> &plus; </span></span>",scope:{chemArrow:"@",chemProd:"=",chemSubst:"="},link:function(a,b){a.arrow=" &"+a.chemArrow+"; "}}}angular.module("mmAngularChemistry").directive("chemScheme",a),a.$inject=["$compile"]}(),function(){"use strict";function a(){var a={};return a.parseFormula=function(a,b){var c=a.match(/\d+|\_\(.*?\)+|\^\(.*?\)+|\^\d*[\-\+]|[^\_\^\d]+/g),d="";return c.forEach(function(a){"^("===a.substr(0,2)?a="object"==typeof b&&"string"==typeof b.sup?'<sup class="'+b.sup+'">'+a.substr(2,a.length-3)+"</sup>":"<sup>"+a.substr(2,a.length-3)+"</sup>":"^"===a.charAt(0)?a="object"==typeof b&&"string"==typeof b.sup?'<sup class="'+b.sup+'">'+a.substr(1)+"</sup>":"<sup>"+a.substr(1)+"</sup>":d.match(/[\)\]\}\>A-Za-z]$/)&&isFinite(a)?a="object"==typeof b&&"string"==typeof b.sub?'<sub class="'+b.sub+'">'+a+"</sub>":"<sub>"+a+"</sub>":"_("===a.substr(0,2)&&(a="<sub>"+a.substr(2,a.length-3)+"</sub>"),d+=a}),d},a}angular.module("mmAngularChemistry").factory("ChemUtils",a)}();